# 🚀 Recipe AI Backend - Production Environment
# Docker Compose 배포용 설정

# ============================================
# 서버 포트 설정 (Production)
# ============================================
PORT=8081
WEBSOCKET_PORT=8083
NODE_ENV=production

# ============================================
# 데이터베이스 연결 (Production)
# ============================================
# MongoDB Atlas (클라우드 DB - 프로덕션)
MONGODB_URI=mongodb+srv://recipe_admin:riqcFEUvo0Bj9EQF@cluster0.zmu0szz.mongodb.net/recipe_ai_db?retryWrites=true&w=majority&appName=Cluster0

# Redis (외부 서버 - IP 수정 필요)
REDIS_URL=redis://:RecipeAI2024!@192.168.0.112:6379

# ============================================
# AI 및 검색 서비스 (Docker Network)
# ============================================
# Elasticsearch (서버 환경 - 실제 IP)
ELASTICSEARCH_URL=http://192.168.0.112:9200

# Ollama (Docker Compose 내부 통신)
OLLAMA_URL=http://ollama:11434
OLLAMA_LLM_MODEL=gemma3n:e4b

# ============================================
# 인증 설정 (Production 보안 강화)
# ============================================
JWT_SECRET=recipe-ai-ultra-secure-key-2024!@#$%^&*()_+
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# ============================================
# Production 설정
# ============================================
# 로깅 레벨 (운영 환경)
LOG_LEVEL=info

# CORS 설정 (Nginx 프록시 + 프론트엔드)
CORS_ORIGIN=http://localhost,http://127.0.0.1,http://192.168.0.112,http://localhost:80,http://localhost:3000,http://192.168.0.112:80

# 운영 모드 설정
DEBUG_MODE=false

# ============================================
# Performance & Security
# ============================================

# File Upload Limits
MAX_FILE_SIZE=10MB

# Session Security
SESSION_SECRET=session-secret-key-production-2024

# ============================================
# Health Check & Monitoring
# ============================================
HEALTH_CHECK_ENDPOINT=/api/auth/health
METRICS_ENABLED=true

# WebSocket 설정
WEBSOCKET_PATH=/socket.io/

# ============================================
# Docker 환경 변수
# ============================================
# 컨테이너 내부에서 사용할 호스트 설정
DOCKER_ENV=true
